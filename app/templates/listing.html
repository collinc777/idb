{% extends "base.html" %}
{% block content %}
<script src="/static/scripts/AjaxModel.jsx?nocache={{ nocache }}" type="text/jsx"></script>

<script type="text/jsx">
    var initialCardAndPageData = {{ data | tojson }};
    var initialCardData = initialCardAndPageData["cardData"];
    var initialPageData = initialCardAndPageData["pageData"];
    var listingTitle = "{{ listing.title }}";
    var listingSorts = {{ listing.sorts | tojson }};
    var listingFilterPlaceholder = "Name or property...";
    ajaxModel.dataURL = "/api{{ listing.url }}";
</script>

<script src="/static/scripts/GridLayout.jsx?nocache={{ nocache }}" type="text/jsx"></script>
<script src="/static/scripts/GridCard.jsx?nocache={{ nocache }}" type="text/jsx"></script>
<script src="/static/scripts/SortAndFilterCards.jsx?nocache={{ nocache }}" type="text/jsx"></script>
<script src="/static/scripts/Pagination.jsx?nocache={{ nocache }}" type="text/jsx"></script>
<script src="/static/scripts/ListingLayout.jsx?nocache={{ nocache }}" type="text/jsx"></script>

<div id="listingContainer">
    <script type="text/jsx">
        ReactDOM.render(<ListingContainer listing_card_data={initialCardData} listing_page_data={initialPageData} listing_title={listingTitle} listing_sorts={listingSorts} listing_filter_placeholder={listingFilterPlaceholder}/>, document.getElementById("listingContainer"));
    </script>
</div>
{% endblock %}